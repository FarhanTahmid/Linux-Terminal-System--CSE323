#include <iostream>
#include <fstream>
#include <string>

using namespace std;

void openfile()
{
    std::string filename;
    std::cout << "Enter the file name: ";
    std::cin >> filename;

    std::ifstream file(filename);

    if (file.is_open()) {
        // File opened successfully
        std::cout << "File opened successfully!" << std::endl;


        file.close(); // Close the file when done
    }
    else {
        // File opening failed
        std::cout << "Failed to open the file." << std::endl;
    }
    file.close();
}

void readfile()
{
std::string filename;
std::cout << "Enter the file name: ";
std::cin >> filename;

std::ifstream file(filename);//ifstream reads information provided in a file

if (file.is_open()) {
    std::string line;
    while (std::getline(file, line)) {
        std::cout << line << std::endl;
    }

    file.close(); 
}
else {
    std::cout << "Failed to open the file." << std::endl;
}

    file.close();
}

void writefile()
{
        std::string filename;
        std::cout << "Enter the file name: ";
        std::cin >> filename;

        std::ofstream file(filename, std::ios::app);

        if (file.is_open()) {
            std::string content;
            std::cout << "Enter the content to write to the file (To finish writing please enter a '.' on a new line):" << std::endl;

            while (std::getline(std::cin, content) && content != ".") {
                file << content << std::endl; // Write content to the file
            }

            file.close(); 
            std::cout << "Content written to the file successfully." << std::endl;
        }
        else {
            std::cout << "Failed to open the file." << std::endl;
        }
}
    int main()
    {
        int choice;

        cout << "Choose an operation: " << endl;
        cout << "1. Open a file" << endl;
        cout << "2. Read a file" << endl;
        cout << "3. Write to a file" << endl;
        cout << "Enter your choice: ";
        cin >> choice;

        switch (choice)
        {
        case 1:
            openfile();
            break;

        case 2:
            readfile();
            break;

        case 3:
            writefile();
            break;

        default:
            cout << "Invalid choice." << endl;
            break;
        }

        return 0;
    }

